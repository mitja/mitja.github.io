{{- $id := .Get "id" | default "" -}}
{{- $label := .Get "label" | default "YouTube video" -}}
{{- $params := .Get "params" | default "" -}}

{{- if $id -}}
<div
  style="
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
    max-width: 100%;
    margin: 25px 0;
    border: 8px solid var(--accent);
    border-radius: var(--radius);
    background-color: #000;
  "
>
  <iframe
    style="
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
    "
    src="https://www.youtube-nocookie.com/embed/{{ $id }}{{ if $params }}?{{ $params }}{{ end }}"
    title="{{ $label }}"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
  ></iframe>
</div>
{{- else -}}
  {{ errorf "youtubeLite shortcode requires an 'id' parameter. The issue occurred in %q" .Page.File }}
{{- end -}}
